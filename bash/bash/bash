#!/usr/bin/env bash

set -eu

echo "скрипт запущен"
echo "переменная окружения PATH: ${PATH}"

bash -lc 'echo "подшел запущен с опцией --login"; \
echo "переменная окружения PATH: ${PATH}"'

# 
# Опции
# 
# -l|--login Заставляет bash работать так, как если бы он был вызван в качестве начального командного интерпретатора.
# -i Если указана опция -i, командный интерпретатор работает как интерактивный.
# -c Если указана опция, команды читаются из строки.
# 
# Запуск
# 
# При вызове bash как интерактивного начального командного интерпретатора, или как неинтерактивного интерпретатора 
# с опцией --login, он сначала читает и выполняет команды из файла /etc/profile, если этот файл существует. После 
# прочтения этого файла, он последовательно ищет файлы ~/.bash_profile, ~/.bash_login и ~/.profile, читает и выполняет 
# команды из первого же из них, который существует и доступен на чтение. Опция --noprofile может использоваться при 
# запуске командного интерпретатора, чтобы отменить это действие.
# 
# При запуске интерактивного командного интерпретатора, не являющегося начальным, bash читает и выполняет команды из 
# файла ~/.bashrc, если он существует. Это действие можно отменить с помощью опции --norc. Опция --rcfile файл 
# заставляет bash читать и выполнять команды из указанного файла вместо ~/.bashrc.
# 

# Проверка на интерактивность запущенного скрипта.
if [ -t 0 ]
then
  echo "Doing interactive stuff here in my bash script ..."
else
  echo "Error ..."
fi
