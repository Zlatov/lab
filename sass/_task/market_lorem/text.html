<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>text</title>
  <link rel="stylesheet" type="text/css" href="sass/temp_style.css">
  <link rel="stylesheet" href="/node_modules/font-awesome/css/font-awesome.min.css">
</head>
<body class="bg gray">
  <div class="container">
    <div class="wrap padded bg white">
      <h1>Text</h1>
      <h2>Аккордион</h2>

      <div class="accordion">
        <div class="header" ilorem></div>
        <div class="text">
          <h2 ilorem></h2>
          <p ilorem></p>
          <p ilorem></p>
          <p ilorem></p>
          <ul>
            <li ilorem></li>
            <li ilorem></li>
            <li ilorem></li>
          </ul>
        </div>
      </div>

      <h2>Сообщения</h2>
      <p>Обычный параграф текста.</p>
      <p class="message" ilorem></p>
      <p class="message success" ilorem></p>
      <p class="message info" ilorem></p>
      <p class="message warning" ilorem></p>
      <p class="message danger" ilorem></p>
      <p class="message iconed success" ilorem></p>
      <p class="message iconed info" ilorem></p>
      <p class="message iconed warning" ilorem></p>
      <p class="message iconed danger" ilorem></p>
      <p class="message bordered success" ilorem></p>
      <p class="message bordered info" ilorem></p>
      <p class="message bordered warning" ilorem></p>
      <p class="message bordered danger" ilorem></p>
      <p class="message iconed bordered success" ilorem></p>
      <p class="message iconed bordered info" ilorem></p>
      <p class="message iconed bordered warning" ilorem></p>
      <p class="message iconed bordered danger" ilorem></p>
      <h3>Содержащие параграфы текста или другие элементы</h3>
      <div class="message explained success">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained info">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained warning">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained danger">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained iconed success">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained iconed info">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained iconed warning">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained iconed danger">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained bordered iconed success">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained bordered iconed info">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained bordered iconed warning">
        <p ilorem></p>
        <p ilorem></p>
      </div>
      <div class="message explained bordered iconed danger">
        <p ilorem></p>
        <p ilorem></p>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="/node_modules/ilorem/dist/ilorem.js"></script>
  <script type="text/javascript" src="../../../node_modules/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript">

    $(document).ready(function() {

      accordion_click = function() {
        var thisaccordion = $(this).parent();
        var headers = thisaccordion.find('div.header');
        var texts = thisaccordion.find('div.text');
        if ( $(this).hasClass("current") ) {
          // нажимаем на раскрытый блок блок
          $(this).removeClass('current').next().slideUp(800);
        } else {
          // нажимаем на скрытый блок
          $(this)
            .addClass('current') // кликнутый
            .next().slideDown(800) // разворачиваем нужный блок
            .end() // кликнутый
            .siblings('.header') // остальные заголовки
            .removeClass('current') // убираем флаг
            .next().slideUp(800); // сворачиваем блоки за остальными заголовками
        }
      }
      $("div.accordion").find("div.header").on('click', accordion_click);
      
      // сворачиваем все блоки следующие за заголовками без флага
      $("div.accordion").find("div.header").not(".current").next().slideUp(200);


      accordion_oid = function() {
        var thisaccordion = $(this).parentsUntil(".accordion").parent();
        var headers = thisaccordion.find('div.header');
        var texts = thisaccordion.find('div.text');
        var oid = $(this).data('oid');
        var openid = texts.eq(oid);
        var openidheader = headers.eq(oid);
        openidheader
          .addClass('current') // открываемый заголовок
          .next().slideDown(800) // разворачиваем нужный блок
          .end() // открываемый заголовок
          .siblings('.header') // остальные заголовки
          .removeClass('current') // убираем флаг
          .next().slideUp(800); // сворачиваем блоки за остальными заголовками
      }
      $(".accordion_oid").on('click', accordion_oid);

    });

    ILorem();

  </script>
</body>
</html>
